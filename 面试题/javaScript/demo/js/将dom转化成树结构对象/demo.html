<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>将dom转化成树结构对象</title>
  </head>
  <body>
    <div><span></span><ul><li></li><li></li></ul></div>
  </body>
</html>
<script>
  const dom = document.querySelector("div");
  console.log(dom);

  function dom2tree(dom) {
    const obj = {};

    obj.tag = dom.tagName;
    obj.children = [];

    dom.childNodes.forEach((child) => obj.children.push(dom2tree(child)));

    return obj;
  }

  console.dir(dom2tree(dom));
</script>
